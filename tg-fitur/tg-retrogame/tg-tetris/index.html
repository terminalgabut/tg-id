<!DOCTYPE html><html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tetris | Terminal Gabut</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 flex flex-col min-h-screen">  <!-- NAVBAR -->  <header class="bg-blue-600 text-white fixed top-0 left-0 w-full shadow-md z-50">
    <nav class="flex justify-between items-center bg-blue-600 text-white px-6 py-4 shadow-md">
      <div>
        <a href="../index.html">
          <img src="IMG_20250825_090756-removebg-preview.png" alt="Terminal Gabut Logo" class="h-7 w-auto">
        </a>
      </div>
      <ul class="hidden md:flex gap-6">
        <li><a href="../index.html" class="hover:text-blue-200">Home</a></li>
        <li><a href="#" class="hover:text-blue-200">Fitur</a></li>
      </ul>
      <button id="darkToggle" class="bg-white text-blue-600 px-3 py-1 rounded-md hover:bg-gray-200">üåô</button>
    </nav>
  </header>  <!-- CONTAINER -->  <div class="chat-container w-11/12 max-w-3xl mx-auto flex flex-col bg-white rounded-xl shadow-md mt-24 overflow-hidden"><!-- HEADER: Score/Lines/Level -->
<div class="header-container bg-blue-600 text-white flex justify-around p-4">
  <div><strong>Score:</strong> <span id="score">0</span></div>
  <div><strong>Lines:</strong> <span id="lines">0</span></div>
  <div><strong>Level:</strong> <span id="level">1</span></div>
</div>

<!-- GAME AREA -->
<div class="messages flex items-center justify-center bg-gray-50" style="height:480px">
  <canvas id="board" width="240" height="480" class="bg-gray-900 rounded"></canvas>
</div>

<!-- GAMEPAD -->
<div class="input-container flex flex-col items-center bg-white p-4 gap-3">
  <div class="flex justify-center gap-6">
    <button class="px-4 py-2 bg-blue-600 text-white rounded" onclick="move('left')">‚óÄÔ∏è</button>
    <button class="px-4 py-2 bg-blue-600 text-white rounded" onclick="move('rotate')">üîÅ</button>
    <button class="px-4 py-2 bg-blue-600 text-white rounded" onclick="move('drop')">üîΩ</button>
    <button class="px-4 py-2 bg-blue-600 text-white rounded" onclick="move('right')">‚ñ∂Ô∏è</button>
  </div>
  <div class="flex gap-6">
    <button class="px-6 py-2 bg-blue-500 text-white rounded" onclick="togglePause()">‚èØÔ∏è Start/Pause</button>
  </div>
</div>

  </div>  <footer class="text-center py-6 text-gray-500">¬© 2025 Terminal Gabut - Semua Hak Dilindungi</footer><script>
const COLS=10,ROWS=20,BLOCK=24;
const board=document.getElementById('board');
const ctx=board.getContext('2d');
let scoreEl=document.getElementById('score'),linesEl=document.getElementById('lines'),levelEl=document.getElementById('level');
board.width=COLS*BLOCK;board.height=ROWS*BLOCK;

function makeEmptyBoard(){return Array.from({length:ROWS},()=>Array(COLS).fill(0));}
let grid=makeEmptyBoard();
const SHAPES={I:[[1,1,1,1]],J:[[2,0,0],[2,2,2]],L:[[0,0,3],[3,3,3]],O:[[4,4],[4,4]],S:[[0,5,5],[5,5,0]],T:[[0,6,0],[6,6,6]],Z:[[7,7,0],[0,7,7]]};
const COLORS=['','#00e5ff','#0066ff','#ff8c42','#ffd11a','#00d166','#b84dff','#ff3b3b'];
const BAG=[];
function nextPieceType(){if(BAG.length===0){const types=Object.keys(SHAPES).slice();for(let i=types.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[types[i],types[j]]=[types[j],types[i]]}BAG.push(...types);}return BAG.shift();}
function cloneShape(m){return m.map(r=>r.slice());}
function rotate(m){return m.map((r,i)=>r.map((_,j)=>m[m.length-1-j][i]));}
class Piece{constructor(t){this.type=t;this.matrix=cloneShape(SHAPES[t]);this.row=0;this.col=Math.floor(COLS/2-this.matrix[0].length/2);}}
let current=new Piece(nextPieceType());
let next=new Piece(nextPieceType());
function collide(g,p,rO=0,cO=0){const m=p.matrix;for(let r=0;r<m.length;r++)for(let c=0;c<m[r].length;c++)if(m[r][c]){const nr=p.row+r+rO,nc=p.col+c+cO;if(nr<0||nc<0||nc>=COLS||nr>=ROWS||g[nr][nc])return true;}return false;}
function merge(g,p){const m=p.matrix;for(let r=0;r<m.length;r++)for(let c=0;c<m[r].length;c++)if(m[r][c])g[p.row+r][p.col+c]=m[r][c];}
function clearLines(){let lines=0;for(let r=ROWS-1;r>=0;r--){if(grid[r].every(v=>v!==0)){grid.splice(r,1);grid.unshift(Array(COLS).fill(0));lines++;r++;}}return lines;}
let score=0,lines=0,level=1,dropInterval=800;
function updateScore(cleared){if(cleared>0){const pts=[0,40,100,300,1200];score+=pts[cleared]*level;lines+=cleared;level=Math.floor(lines/10)+1;dropInterval=Math.max(100,800-(level-1)*60);scoreEl.textContent=score;linesEl.textContent=lines;levelEl.textContent=level;}}
function spawn(){current=next;next=new Piece(nextPieceType());current.row=0;current.col=Math.floor(COLS/2-current.matrix[0].length/2);if(collide(grid,current))gameOver();}
function gameOver(){running=false;alert('Game Over! Score: '+score);}
function hardDrop(){while(!collide(grid,current,1,0))current.row++;lockPiece();}
function lockPiece(){merge(grid,current);const cleared=clearLines();updateScore(cleared);spawn();}
function step(){if(!running)return;const now=Date.now();if(now-lastDrop>dropInterval){if(!collide(grid,current,1,0))current.row++;else lockPiece();lastDrop=now;}draw();requestAnimationFrame(step);}
function drawCell(x,y,v){ctx.fillStyle=v?COLORS[v]:'#111827';ctx.fillRect(x*BLOCK+1,y*BLOCK+1,BLOCK-2,BLOCK-2);}
function draw(){ctx.fillStyle='#111827';ctx.fillRect(0,0,board.width,board.height);for(let r=0;r<ROWS;r++)for(let c=0;c<COLS;c++)drawCell(c,r,grid[r][c]);const m=current.matrix;for(let r=0;r<m.length;r++)for(let c=0;c<m[r].length;c++)if(m[r][c])drawCell(current.col+c,current.row+r,m[r][c]);}

document.addEventListener('keydown',e=>{if(!running)return;if(e.key==='ArrowLeft')move('left');else if(e.key==='ArrowRight')move('right');else if(e.key==='ArrowUp')move('rotate');else if(e.key==='ArrowDown')move('drop');else if(e.key.toLowerCase()==='p')togglePause();});

function move(action){if(!running)return; if(action==='left'){if(!collide(grid,current,0,-1))current.col--;}else if(action==='right'){if(!collide(grid,current,0,1))current.col++;}else if(action==='rotate'){const rotated=rotate(current.matrix);const old=current.matrix;current.matrix=rotated;if(collide(grid,current,0,0))current.matrix=old;}else if(action==='drop'){hardDrop();}draw();}

let running=true,lastDrop=Date.now();
function togglePause(){running=!running; if(running){lastDrop=Date.now();step();}}

spawn();draw();step();
</script></body>
</html>